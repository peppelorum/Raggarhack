(function(a){a.fn.howdyDo=function(p){var c={action:"hover",effect:"slide",easing:"easeOutBounce",duration:500,delay:500,hideAfter:0,initState:"closed",keepState:true,autoStart:true,barClass:"howdydo-style",barStyle:"hellobar",openAnchor:"show",closeAnchor:"hide",callback:function(){}};var p=a.extend(c,p);var d=a(this);d.detach().prependTo("body").wrap('<div id="howdydo-wrapper">');var k='<div id="howdydo-open" class="'+p.barClass+'"><a style="margin:0; padding:0;" href="javascript:;">'+p.openAnchor+"</a></div>";var b='<div id="howdydo-close"><a href="javascript:;">'+p.closeAnchor+'</a></div><div style="clear:both;"></div>';d.addClass(p.barClass+" howdydo-box").html(d.html()+b).after(k);var i=a("#howdydo-wrapper");var o=a("#howdydo-open");var h=a("#howdydo-close");i.after("<div id='header-space' style='clear:both;'></div>");switch(p.action){case"scroll":i.addClass("scroll");break;case"push":i.addClass("push");break;case"stackoverflow":i.addClass("scroll");break;default:i.addClass("hover")}switch(p.effect){case"blind":effectOptions={direction:"vertical",easing:p.easing};break;case"drop":effectOptions={direction:"up",easing:p.easing};break;case"fade":effectOptions={};break;default:p.effect="slide";effectOptions={direction:"up",easing:p.easing}}h.click(function(){g()});o.click(function(){l()});a(document).keyup(function(q){if(q.keyCode==27&&d.is(":visible")){g()}});if(p.keepState==true){var m=j("HowdydoBarState");if(m==null||m==""){var n=p.initState;if(p.autoStart==true){if(n=="closed"){l(p.delay)}else{e(true);if(p.hideAfter>0&&p.autoStart==true){barAnim=setTimeout(function(){g()},(p.hideAfter+p.duration+p.delay));p.hideAfter=0}}}}else{var n=m;if(m=="open"){e(true)}}p.hideAfter=0}else{if(p.initState=="closed"&&p.autoStart==true){l(p.delay)}else{if(p.initState=="open"){e(false);if(p.hideAfter>0&&p.autoStart==true){barAnim=setTimeout(function(){g()},(p.hideAfter+p.duration+p.delay));p.hideAfter=0}}}}function e(q){d.css("display","block");o.css("display","none");if(q==true){f("HowdydoBarState","open")}}function l(q){if(!q||q<0){q=0}setTimeout(function(){if(p.action=="push"||p.action=="stackoverflow"){o.toggle(p.effect,effectOptions,p.duration,function(){i.animate({height:d.outerHeight()},250,function(){d.toggle(p.effect,effectOptions,p.duration,p.callback)})});if(p.action=="stackoverflow"){a("#header-space").animate({height:d.outerHeight()})}}else{d.toggle(p.effect,effectOptions,p.duration,p.callback);o.toggle(p.effect,effectOptions,p.duration)}},q);f("HowdydoBarState","open");if(p.hideAfter>0&&p.autoStart==true){barAnim=setTimeout(function(){g()},(p.hideAfter+p.duration+p.delay));p.hideAfter=0}}function g(){if(typeof barAnim!="undefined"){clearTimeout(barAnim)}if(p.action=="push"||p.action=="stackoverflow"){d.toggle(p.effect,effectOptions,p.duration,function(){i.animate({height:0},250,function(){if(p.action=="stackoverflow"){a("#header-space").animate({height:0})}else{o.toggle(p.effect,effectOptions,p.duration,p.callback)}})})}else{d.toggle(p.effect,effectOptions,p.duration,p.callback);o.toggle(p.effect,effectOptions,p.duration)}f("HowdydoBarState","closed")}function f(r,s){if(p.keepState==true){var q=new Date();q.setTime(q.getTime()+(24*60*60*1000));expDate=q.toGMTString();document.cookie=r+"="+s+";expires="+expDate+"; path=/"}}function j(r){var t=r+"=";var q=document.cookie.split(";");for(var s=0;s<q.length;s++){var u=q[s];while(u.charAt(0)==" "){u=u.substring(1,u.length)}if(u.indexOf(t)==0){return u.substring(t.length,u.length)}}return null}}})(jQuery);